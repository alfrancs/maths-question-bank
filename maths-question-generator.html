<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCSE Maths Question Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .main-view, .practice-view {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .practice-view {
            display: none;
        }

        .question-card {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .question-card:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .question-type {
            font-weight: bold;
            color: #667eea;
            font-size: 0.9em;
        }

        .question-text {
            font-size: 1.3em;
            margin-bottom: 15px;
            font-family: 'Courier New', monospace;
        }

        .answer-section {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }

        input[type="text"] {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
            width: 150px;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
        }

        input.correct {
            border-color: #28a745;
            background-color: #d4edda;
        }

        input.incorrect {
            border-color: #dc3545;
            background-color: #f8d7da;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
        }

        .check-btn {
            background-color: #667eea;
            color: white;
        }

        .check-btn:hover {
            background-color: #5568d3;
        }

        .practice-btn {
            background-color: #28a745;
            color: white;
        }

        .practice-btn:hover {
            background-color: #218838;
        }

        .practice-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background-color: #d4edda;
            color: #155724;
        }

        .feedback.incorrect {
            background-color: #f8d7da;
            color: #721c24;
        }

        .practice-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #667eea;
        }

        .back-btn {
            background-color: #6c757d;
            color: white;
        }

        .back-btn:hover {
            background-color: #5a6268;
        }

        .practice-questions {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .practice-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 3px solid #28a745;
        }

        .solution {
            margin-top: 10px;
            padding: 10px;
            background: #e9ecef;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            display: none;
        }

        .solution.show {
            display: block;
        }

        .show-solution-btn {
            background-color: #17a2b8;
            color: white;
            font-size: 0.9em;
            padding: 5px 10px;
            margin-top: 10px;
        }

        .show-solution-btn:hover {
            background-color: #138496;
        }

        .instructions {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #0066cc;
        }

        .instructions h3 {
            color: #0066cc;
            margin-bottom: 10px;
        }

        sup {
            font-size: 0.7em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìê GCSE Maths Question Generator</h1>
        
        <div class="main-view" id="mainView">
            <div class="instructions">
                <h3>Instructions</h3>
                <p>Solve each quadratic equation below. Enter your answers separated by commas (e.g., "2, 3" or "-1, 5"). If you get a question wrong, click "Generate Practice" to get more questions of that type.</p>
            </div>

            <div id="questionsContainer"></div>
        </div>

        <div class="practice-view" id="practiceView">
            <div class="practice-header">
                <div>
                    <h2 id="practiceTitle"></h2>
                    <p id="practiceSubtitle"></p>
                </div>
                <button class="back-btn" onclick="backToMain()">‚Üê Back to Main Questions</button>
            </div>
            <div class="practice-questions" id="practiceContainer"></div>
        </div>
    </div>

    <script>
        const questionTypes = [
            {
                id: 1,
                type: "x¬≤ + bx + c",
                description: "Quadratic with positive x term and positive constant",
                generator: () => {
                    // Generate two positive factors
                    const root1 = Math.floor(Math.random() * 8) + 1;
                    const root2 = Math.floor(Math.random() * 8) + 1;
                    const b = root1 + root2;
                    const c = root1 * root2;
                    return {
                        equation: `x¬≤ + ${b}x + ${c} = 0`,
                        solutions: [-root1, -root2].sort((a, b) => a - b)
                    };
                }
            },
            {
                id: 2,
                type: "x¬≤ - bx + c",
                description: "Quadratic with negative x term and positive constant",
                generator: () => {
                    const root1 = Math.floor(Math.random() * 8) + 1;
                    const root2 = Math.floor(Math.random() * 8) + 1;
                    const b = root1 + root2;
                    const c = root1 * root2;
                    return {
                        equation: `x¬≤ - ${b}x + ${c} = 0`,
                        solutions: [root1, root2].sort((a, b) => a - b)
                    };
                }
            },
            {
                id: 3,
                type: "x¬≤ + bx - c",
                description: "Quadratic with positive x term and negative constant",
                generator: () => {
                    const root1 = Math.floor(Math.random() * 8) + 1;
                    const root2 = -(Math.floor(Math.random() * 8) + 1);
                    const b = root1 + root2;
                    const c = root1 * root2;
                    const bStr = b >= 0 ? `+ ${b}x` : `- ${Math.abs(b)}x`;
                    return {
                        equation: `x¬≤ ${bStr} - ${Math.abs(c)} = 0`,
                        solutions: [root1, root2].sort((a, b) => a - b)
                    };
                }
            },
            {
                id: 4,
                type: "x¬≤ - bx - c",
                description: "Quadratic with negative x term and negative constant",
                generator: () => {
                    const root1 = Math.floor(Math.random() * 8) + 1;
                    const root2 = -(Math.floor(Math.random() * 8) + 1);
                    const b = root1 + root2;
                    const c = root1 * root2;
                    const bStr = b >= 0 ? `- ${b}x` : `+ ${Math.abs(b)}x`;
                    return {
                        equation: `x¬≤ ${bStr} - ${Math.abs(c)} = 0`,
                        solutions: [root1, root2].sort((a, b) => a - b)
                    };
                }
            },
            {
                id: 5,
                type: "x¬≤ - y¬≤",
                description: "Difference of two squares",
                generator: () => {
                    const a = Math.floor(Math.random() * 10) + 2;
                    const b = Math.floor(Math.random() * 10) + 2;
                    const constant = a * a - b * b;
                    return {
                        equation: `x¬≤ - ${b * b} = 0`,
                        solutions: [-b, b].sort((a, b) => a - b)
                    };
                }
            },
            {
                id: 6,
                type: "ax¬≤ + bx + c",
                description: "Quadratic with coefficient on x¬≤",
                generator: () => {
                    const a = Math.floor(Math.random() * 3) + 2; // 2 or 3
                    const p = Math.floor(Math.random() * 5) + 1; // numerator for first root
                    const q = Math.floor(Math.random() * 5) + 1; // second root
                    
                    // Creates (ax - p)(x - q) = 0
                    // Roots: x = p/a and x = q
                    const b = -(a * q + p);
                    const c = p * q;
                    
                    const bStr = b >= 0 ? `+ ${b}x` : `- ${Math.abs(b)}x`;
                    const cStr = c >= 0 ? `+ ${c}` : `- ${Math.abs(c)}`;
                    
                    return {
                        equation: `${a}x¬≤ ${bStr} ${cStr} = 0`,
                        solutions: [p/a, q].sort((a, b) => a - b),
                        solutionsDisplay: [`${p}/${a}`, `${q}`].sort((a, b) => {
                            const valA = a.includes('/') ? parseFloat(a.split('/')[0])/parseFloat(a.split('/')[1]) : parseFloat(a);
                            const valB = b.includes('/') ? parseFloat(b.split('/')[0])/parseFloat(b.split('/')[1]) : parseFloat(b);
                            return valA - valB;
                        })
                    };
                }
            }
        ];

        let currentQuestions = [];

        function initializeQuestions() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = '';
            currentQuestions = [];

            questionTypes.forEach((type, index) => {
                const question = type.generator();
                currentQuestions.push({
                    ...question,
                    typeId: type.id,
                    type: type.type,
                    description: type.description
                });

                const card = document.createElement('div');
                card.className = 'question-card';
                card.innerHTML = `
                    <div class="question-header">
                        <span class="question-type">Type ${type.id}: ${type.type}</span>
                        <span style="color: #6c757d; font-size: 0.9em;">${type.description}</span>
                    </div>
                    <div class="question-text">Solve: ${question.equation}</div>
                    <div class="answer-section">
                        <label>x = </label>
                        <input type="text" id="answer-${index}" placeholder="e.g., 2, 3">
                        <button class="check-btn" onclick="checkAnswer(${index})">Check Answer</button>
                        <button class="practice-btn" id="practice-${index}" onclick="generatePractice(${type.id})" disabled>Generate Practice</button>
                    </div>
                    <div class="feedback" id="feedback-${index}"></div>
                `;
                container.appendChild(card);
            });
        }

        function checkAnswer(index) {
            const input = document.getElementById(`answer-${index}`);
            const feedback = document.getElementById(`feedback-${index}`);
            const practiceBtn = document.getElementById(`practice-${index}`);
            
            const userAnswer = input.value.trim().split(',').map(x => parseFloat(x.trim())).sort((a, b) => a - b);
            const correctAnswer = currentQuestions[index].solutions;
            const displayAnswer = currentQuestions[index].solutionsDisplay || correctAnswer;
            
            const isCorrect = userAnswer.length === correctAnswer.length && 
                            userAnswer.every((val, i) => Math.abs(val - correctAnswer[i]) < 0.01);
            
            if (isCorrect) {
                input.className = 'correct';
                feedback.className = 'feedback correct show';
                feedback.textContent = '‚úì Correct! Well done!';
                practiceBtn.disabled = true;
            } else {
                input.className = 'incorrect';
                feedback.className = 'feedback incorrect show';
                feedback.textContent = `‚úó Incorrect. The correct answer is x = ${displayAnswer.join(', ')}`;
                practiceBtn.disabled = false;
            }
        }

        function generatePractice(typeId) {
            const type = questionTypes.find(t => t.id === typeId);
            const practiceQuestions = [];
            
            for (let i = 0; i < 12; i++) {
                practiceQuestions.push(type.generator());
            }
            
            document.getElementById('mainView').style.display = 'none';
            document.getElementById('practiceView').style.display = 'block';
            document.getElementById('practiceTitle').textContent = `Practice: ${type.type}`;
            document.getElementById('practiceSubtitle').textContent = type.description;
            
            const container = document.getElementById('practiceContainer');
            container.innerHTML = '';
            
            practiceQuestions.forEach((q, index) => {
                const displaySolution = q.solutionsDisplay ? q.solutionsDisplay.join(', ') : q.solutions.join(', ');
                const card = document.createElement('div');
                card.className = 'practice-card';
                card.innerHTML = `
                    <div style="font-weight: bold; margin-bottom: 10px;">Question ${index + 1}</div>
                    <div class="question-text">Solve: ${q.equation}</div>
                    <button class="show-solution-btn" onclick="toggleSolution(${index})">Show Solution</button>
                    <div class="solution" id="solution-${index}">
                        <strong>Solution:</strong><br>
                        x = ${displaySolution}
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function toggleSolution(index) {
            const solution = document.getElementById(`solution-${index}`);
            solution.classList.toggle('show');
        }

        function backToMain() {
            document.getElementById('mainView').style.display = 'block';
            document.getElementById('practiceView').style.display = 'none';
        }

        // Initialize on page load
        initializeQuestions();
    </script>
</body>
</html>
